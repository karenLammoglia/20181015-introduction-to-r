<!DOCTYPE html>
<html>
  <head>
    <title>Introduction to R</title>
    <meta charset="utf-8">
    <meta name="author" content="Gemma Dawson and Luis de Sousa" />
    <link href="libs/font-awesome-animation/font-awesome-animation-emi.css" rel="stylesheet" />
    <script src="libs/fontawesome/js/fontawesome-all.min.js"></script>
    <link rel="stylesheet" href="assets/kunoichi.css" type="text/css" />
    <link rel="stylesheet" href="assets/ninpo.css" type="text/css" />
    <link rel="stylesheet" href="assets/ninjutsu.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to R
### Gemma Dawson and Luis de Sousa
### 2018/10/15 (updated: 2018-10-15)

---






layout: false
class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Who are we?]]]
.column[
]

---

layout: false
class: split-60 hide-slide-number
background-image: url("imgs/codeScreen.jpg")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.left[
  .font5[Gemma Dawson]&lt;br&gt;
  &lt;img src="imgs/icepack_white.png" width="70%"&gt;
]]

.column[.content.vmiddle.right[
### .white[<span>&lt;i class="fas  fa-laptop faa-float animated "&gt;&lt;/i&gt;</span>  www.icepack.ai]
### .white[<span>&lt;i class="fab  fa-github faa-float animated "&gt;&lt;/i&gt;</span>  @GemmaDawson]
### .white[<span>&lt;i class="fab  fa-twitter faa-float animated "&gt;&lt;/i&gt;</span>  @gemmadawsonza]
]]

---

layout: false
class: split-60 hide-slide-number
background-image: url("imgs/codeScreen.jpg")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.left[
  .font5[Luis de Sousa]&lt;br&gt;
  &lt;img src="imgs/syeop-logo.jpg" width="70%"&gt;
]]

.column[.content.vmiddle.right[
### .white[<span>&lt;i class="fab  fa-github faa-float animated "&gt;&lt;/i&gt;</span>  @luisdza]
### .white[<span>&lt;i class="fab  fa-twitter faa-float animated "&gt;&lt;/i&gt;</span>  @luis_de_sousa]
### .white[<span>&lt;i class="fas  fa-laptop faa-float animated "&gt;&lt;/i&gt;</span>  growninconsultation.com]
]]

---

layout: false
class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Who are you?]]]
.column[
]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Table of Contents]]
]]

.row[.content[.split-two[

.column[.content.vmiddle.center[
.color-main1[.font2[
* Why R?
* Import
* Transform
* Visualise
* Model
* Communicate
* Questions &amp; Resources]]
]]
.column[.content.vmiddle.center[
&lt;img src="imgs/tidydata.jpg" width="80%"&gt;
]]
]]]

???
| Section   | Presenter | Time Allocation |
|-----------|-----------|-----------------|
| Why R? | Gemma  | 15 mins |
| Import | Luis  | 15 mins |
| Transform | Gemma | 15 mins |
| Visualise | Luis | 15 mins |
| Model | Gemma | 15 mins |
| Communicate | Luis | 15 mins |
| Questions &amp; Resources | Gemma and Luis | 15 mins |
| Total | | 105 minuites|

---




layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[What is R?]]
]]

.row[.content[.split-two[
.column[.content.vmiddle.center[
&lt;img src="imgs/R_logo.png" width="80%"&gt;
]]

.column[.content.vmiddle.center[
.color-main1[.font4[programming language and environment for statistical computing and graphics]]
]]
]]]

???
open-source

---

layout: false
class: split-20
background-image: url(imgs/BatmanVersusSuperman.jpg)
background-size: cover

.row.bg-main1[.content.vmiddle.center[
.white[.font5[R versus Python]]
]]

.row[.content[.split-two[
.column[.content.vmiddle.center[
.white[]
]]
.column[.content.vmiddle.center[
.white[]
]]
]]]

???
Python is great for data science too but scope extends beyond this
Python better suited to those with a comp sci background

R is better suited to data manipulation, analysis, communication


---

layout: false
class: split-20
background-image: url(imgs/BatmanVPresidentBusiness.jpg)
background-size: cover

.row.bg-main1[.content.vmiddle.center[
.white[.font5[R versus Excel]]
]]

.row[.content[.split-two[
.column[.content.vmiddle.center[
.white[]
]]
.column[.content.vmiddle.center[
.white[]
]]
]]]

???
Excel - complex tasks with large volumes of data is not easy!  Room for human error is high
R - transparent, repoducible analysis
R - automate &amp; save time


---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio1.png" width="100%"&gt;

???
Explain sections
Integrated with GIT (yay - version control)
Accessible Cheatsheets

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio2.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio3.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio4.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio5.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio6.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio7.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio8.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio9.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio10.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio11.png" width="100%"&gt;

???

---

layout: false
class: middle center bg-main1

&lt;img src="imgs/RStudio12.png" width="100%"&gt;

???

---

layout: true
class: split-two 

.column.bg-main1[.content.center[
.font5[.white[The Community]]
{{content}}
]]

.column[.split-four[
  .row[.content.vmiddle.center[
    # R Users &amp; R ladies
  ]]
  .row[.content.vmiddle.center[
    # Twitter
  ]] 
  .row[.content.vmiddle.center[
    # Podcasts &amp; Blogs
  ]]
  .row[.content.vmiddle.center[
    #  Stack Overflow
  ]]
]]

???

---

class: hide-row1-col2 hide-row2-col2 hide-row3-col2 hide-row4-col2

---

class: hide-row2-col2 hide-row3-col2 hide-row4-col2
count: false

&lt;img src="imgs/RUsersLogo.png" width="35%"&gt; &lt;br&gt;
&lt;img src="imgs/hexRladies.png" width="35%"&gt;

---

class: hide-row3-col2 hide-row4-col2
count: false

&lt;img src="imgs/rstats.png" width="80%"&gt;

---

class: hide-row4-col2
count: false

&lt;img src="imgs/podcastETC.png" width="80%"&gt;

---

class: 
count: false

&lt;img src="imgs/stackoverflow.png" width="80%"&gt;

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.white[.font5[Packages]]
]]

.row[.content[]]

???


---

layout: true
class: split-two 

.column.bg-main1[.content.center[
.font5[.white[The Tidyverse]]
{{content}}
]]

.column[.split-five[
  .row[.content.vmiddle.center[
    # simpler *
  ]]
  .row[.content.vmiddle.center[
    # human-readable
  ]] 
  .row[.content.vmiddle.center[
    # faster
  ]]
  .row[.content.vmiddle.center[
    #  more intelligent
  ]]
  .row[.content.vmiddle.center[
    # magrittr's pipe
  ]]
]]

???
Preach the good word of Tidyverse
Why Tidyverse

---

class: hide-row1-col2 hide-row2-col2 hide-row3-col2 hide-row4-col2 hide-row5-col2

&lt;img src="imgs/LittleMissTidyverseHex.png" width="95%"&gt;

---

class: hide-row2-col2 hide-row3-col2 hide-row4-col2 hide-row5-col2
count: false

&lt;img src="imgs/LittleMissTidyverseHex.png" width="95%"&gt;

---

class: hide-row3-col2 hide-row4-col2 hide-row5-col2
count: false

&lt;img src="imgs/LittleMissTidyverseHex.png" width="95%"&gt;

---

class: hide-row4-col2 hide-row5-col2
count: false

&lt;img src="imgs/LittleMissTidyverseHex.png" width="95%"&gt;

---

class: hide-row5-col2
count: false

&lt;img src="imgs/LittleMissTidyverseHex.png" width="95%"&gt;

---

class: 
count: false

&lt;img src="imgs/magrittr.png" width="60%"&gt;



---




layout: false

class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Import]]]
.column[
]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data]]
]]

.row[
Flat files, Data files, Databases, Web
.content.vmiddle.center[
&lt;img src="imgs/readr.png" width="15%"&gt;
&lt;img src="imgs/readxl.png" width="15%"&gt;
&lt;img src="imgs/haven.png" width="15%"&gt;
&lt;br&gt;
&lt;img src="imgs/googledrive.png" width="15%"&gt;
&lt;img src="imgs/googlesheets.png" width="15%"&gt;
&lt;img src="imgs/dbplot.png" width="15%"&gt;
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - CSV]]
]]

.row[.content[

```r
library(tidyverse) #packages for data manipulation, exploration and visualization that share a common design philosophy
exchange_rates &lt;- read.csv("data/ZAR_per_USD__Exchange_Rate_Detail_2000_to_2018-10.csv") # import all ZAR USD exchange rates from 2000 to 2018-10-08

head(exchange_rates,3) # show top 3 rows of data frame
```

```
##         Date   Value
## 1 2018-10-01 14.1090
## 2 2018-09-28 14.1581
## 3 2018-09-27 14.1595
```

```r
tail(exchange_rates,3) # show bottom 3 rows of data frame
```

```
##            Date  Value
## 4684 2000-01-06 6.0825
## 4685 2000-01-05 6.0881
## 4686 2000-01-04 6.1188
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - CSV]]
]]

.row[.content[

```r
exchange_rates &lt;- exchange_rates %&gt;%
  filter(as.Date(exchange_rates$Date) &gt;= as.Date('2018-01-01')) # filter for 2018 exchange rates

head(exchange_rates,3)
```

```
##         Date   Value
## 1 2018-10-01 14.1090
## 2 2018-09-28 14.1581
## 3 2018-09-27 14.1595
```

```r
tail(exchange_rates,3)
```

```
##           Date   Value
## 186 2018-01-04 12.3018
## 187 2018-01-03 12.3954
## 188 2018-01-02 12.3330
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - Excel Workbooks]]
]]

.row[.content[

```r
library(readxl) # for reading excel files
path &lt;- "data/gapminder_messy.xlsx"
combined_data &lt;- excel_sheets(path) %&gt;% 
  map_df(~ {
    read_excel(path, sheet = .x, 
               skip = 4, trim_ws = TRUE) %&gt;% 
      mutate(year = as.numeric(.x))
  }) %&gt;% 
  select(country, year, everything())
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - Excel Workbooks]]
]]

.row[.content[

```r
head(combined_data,3)
```

```
## # A tibble: 3 x 5
##   country      year gdpPercap lifeExp      pop
##   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
## 1 Afghanistan  2007      975.    43.8 31889923
## 2 Albania      2007     5937.    76.4  3600523
## 3 Algeria      2007     6223.    72.3 33333216
```

```r
tail(combined_data,3)
```

```
## # A tibble: 3 x 5
##   country      year gdpPercap lifeExp     pop
##   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 Yemen, Rep.  1952      782.    32.5 4963829
## 2 Zambia       1952     1147.    42.0 2672000
## 3 Zimbabwe     1952      407.    48.5 3080907
```
]]
---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - SPSS]]
]]

.row[.content[

```r
library(haven) # for reading SPSS, SAS, STATA files
survey_data &lt;- read_sav("data/sample_spss_data.sav")
head(survey_data)
```

```
## # A tibble: 6 x 682
##   SubsID responseid respid dCOUNTRY fQ1bGender foQ1aAge_1 dAge  Q2Kids_1
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl+lb&gt; &lt;dbl+lbl&gt;       &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
## 1 21888…        345    347 1        1                  68 3            2
## 2 23586…        185    187 1        1                  51 2            2
## 3 23739…        108    110 1        2                  57 3            2
## 4 25015…        524    526 1        2                  53 2            2
## 5 25405…        349    351 1        2                  25 1            2
## 6 20004…        823    825 1        2                  54 2            1
## # ... with 674 more variables: Q2Kids_2 &lt;dbl&gt;, Q2Kids_3 &lt;dbl&gt;,
## #   dKIDS &lt;dbl+lbl&gt;, Q3 &lt;dbl+lbl&gt;, dNET &lt;dbl+lbl&gt;, fQ2UKRegion &lt;dbl+lbl&gt;,
## #   dRegionUK &lt;dbl+lbl&gt;, fQ2FRRegion &lt;dbl+lbl&gt;, dRegionFR &lt;dbl+lbl&gt;,
## #   fQ2DERegion &lt;dbl+lbl&gt;, dRegionDE &lt;dbl+lbl&gt;, Q2TURRegion &lt;dbl+lbl&gt;,
## #   Q2IncomeUK &lt;dbl+lbl&gt;, dIncomeUK &lt;dbl+lbl&gt;, Q2IncomeFR &lt;dbl+lbl&gt;,
## #   dIncomeFR &lt;dbl+lbl&gt;, Q2IncomeDE &lt;dbl+lbl&gt;, dIncomeDE &lt;dbl+lbl&gt;,
## #   Q2IncomeTUR &lt;dbl+lbl&gt;, dIncomeTUR &lt;dbl+lbl&gt;, Q4_1 &lt;dbl+lbl&gt;,
## #   Q4_2 &lt;dbl+lbl&gt;, Q4_3 &lt;dbl+lbl&gt;, Q4_4 &lt;dbl+lbl&gt;, Q4_5 &lt;dbl+lbl&gt;,
## #   Q4_6 &lt;dbl+lbl&gt;, Q4_99 &lt;dbl+lbl&gt;, Q6_1 &lt;dbl+lbl&gt;, Q6_2 &lt;dbl+lbl&gt;,
## #   Q6_3 &lt;dbl+lbl&gt;, Q6_4 &lt;dbl+lbl&gt;, Q6_5 &lt;dbl+lbl&gt;, Q6_98 &lt;dbl+lbl&gt;,
## #   Q6_99 &lt;dbl+lbl&gt;, dBiscLMAll_1 &lt;dbl+lbl&gt;, dBiscLMAll_2 &lt;dbl+lbl&gt;,
## #   dBiscLMAll_3 &lt;dbl+lbl&gt;, dBiscLMAll_4 &lt;dbl+lbl&gt;,
## #   dBiscLMAll_5 &lt;dbl+lbl&gt;, dBiscLMAll_6 &lt;dbl+lbl&gt;, dTypLMAll_1 &lt;dbl+lbl&gt;,
## #   dTypLMAll_2 &lt;dbl+lbl&gt;, dTypLMAll_3 &lt;dbl+lbl&gt;, dTypLMAll_4 &lt;dbl+lbl&gt;,
## #   dNumber &lt;dbl+lbl&gt;, fQ13_1 &lt;dbl+lbl&gt;, fQ13_2 &lt;dbl+lbl&gt;,
## #   fQ13_3 &lt;dbl+lbl&gt;, fQ13_4 &lt;dbl+lbl&gt;, fQ13_5 &lt;dbl+lbl&gt;,
## #   fQ13_6 &lt;dbl+lbl&gt;, fQ13_7 &lt;dbl+lbl&gt;, fQ13_8 &lt;dbl+lbl&gt;,
## #   fQ13_9 &lt;dbl+lbl&gt;, fQ13_10 &lt;dbl+lbl&gt;, fQ13_11 &lt;dbl+lbl&gt;,
## #   fQ13_12 &lt;dbl+lbl&gt;, fQ13_13 &lt;dbl+lbl&gt;, fQ13_14 &lt;dbl+lbl&gt;,
## #   fQ13_15 &lt;dbl+lbl&gt;, fQ13_16 &lt;dbl+lbl&gt;, fQ13_17 &lt;dbl+lbl&gt;,
## #   fQ13_18 &lt;dbl+lbl&gt;, fQ13_19 &lt;dbl+lbl&gt;, fQ13_20 &lt;dbl+lbl&gt;,
## #   fQ13_21 &lt;dbl+lbl&gt;, fQ13_22 &lt;dbl+lbl&gt;, fQ13_23 &lt;dbl+lbl&gt;,
## #   fQ13_24 &lt;dbl+lbl&gt;, fQ13_25 &lt;dbl+lbl&gt;, fQ13_26 &lt;dbl+lbl&gt;,
## #   fQ13_27 &lt;dbl+lbl&gt;, fQ13_28 &lt;dbl+lbl&gt;, fQ13_29 &lt;dbl+lbl&gt;,
## #   fQ13_30 &lt;dbl+lbl&gt;, fQ13_31 &lt;dbl+lbl&gt;, fQ13_32 &lt;dbl+lbl&gt;,
## #   fQ13_33 &lt;dbl+lbl&gt;, fQ13_34 &lt;dbl+lbl&gt;, fQ13_35 &lt;dbl+lbl&gt;,
## #   fQ13_36 &lt;dbl+lbl&gt;, fQ13_37 &lt;dbl+lbl&gt;, fQ13_38 &lt;dbl+lbl&gt;,
## #   Q25A_1 &lt;dbl+lbl&gt;, Q25A_2 &lt;dbl+lbl&gt;, Q25A_3 &lt;dbl+lbl&gt;,
## #   Q25A_4 &lt;dbl+lbl&gt;, Q25A_5 &lt;dbl+lbl&gt;, Q25A_6 &lt;dbl+lbl&gt;,
## #   Q25A_7 &lt;dbl+lbl&gt;, Q25A_8 &lt;dbl+lbl&gt;, Q25A_9 &lt;dbl+lbl&gt;,
## #   Q25A_10 &lt;dbl+lbl&gt;, Q25A_11 &lt;dbl+lbl&gt;, Q25A_12 &lt;dbl+lbl&gt;,
## #   Q25A_13 &lt;dbl+lbl&gt;, Q25A_14 &lt;dbl+lbl&gt;, Q25A_15 &lt;dbl+lbl&gt;,
## #   Q25A_16 &lt;dbl+lbl&gt;, Q25A_95 &lt;dbl+lbl&gt;, …
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - SPSS]]
]]

.row[.content[

```r
# convert spss label codes into labels
labelled_survey_data &lt;- as_factor(survey_data)
head(labelled_survey_data)
```

```
## # A tibble: 6 x 682
##   SubsID responseid respid dCOUNTRY fQ1bGender foQ1aAge_1 dAge  Q2Kids_1
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;           &lt;dbl&gt; &lt;fct&gt;    &lt;dbl&gt;
## 1 21888…        345    347 UK       Male               68 55+          2
## 2 23586…        185    187 UK       Male               51 35-54        2
## 3 23739…        108    110 UK       Female             57 55+          2
## 4 25015…        524    526 UK       Female             53 35-54        2
## 5 25405…        349    351 UK       Female             25 16-34        2
## 6 20004…        823    825 UK       Female             54 35-54        1
## # ... with 674 more variables: Q2Kids_2 &lt;dbl&gt;, Q2Kids_3 &lt;dbl&gt;,
## #   dKIDS &lt;fct&gt;, Q3 &lt;fct&gt;, dNET &lt;fct&gt;, fQ2UKRegion &lt;fct&gt;, dRegionUK &lt;fct&gt;,
## #   fQ2FRRegion &lt;fct&gt;, dRegionFR &lt;fct&gt;, fQ2DERegion &lt;fct&gt;,
## #   dRegionDE &lt;fct&gt;, Q2TURRegion &lt;fct&gt;, Q2IncomeUK &lt;fct&gt;, dIncomeUK &lt;fct&gt;,
## #   Q2IncomeFR &lt;fct&gt;, dIncomeFR &lt;fct&gt;, Q2IncomeDE &lt;fct&gt;, dIncomeDE &lt;fct&gt;,
## #   Q2IncomeTUR &lt;fct&gt;, dIncomeTUR &lt;fct&gt;, Q4_1 &lt;fct&gt;, Q4_2 &lt;fct&gt;,
## #   Q4_3 &lt;fct&gt;, Q4_4 &lt;fct&gt;, Q4_5 &lt;fct&gt;, Q4_6 &lt;fct&gt;, Q4_99 &lt;fct&gt;,
## #   Q6_1 &lt;fct&gt;, Q6_2 &lt;fct&gt;, Q6_3 &lt;fct&gt;, Q6_4 &lt;fct&gt;, Q6_5 &lt;fct&gt;,
## #   Q6_98 &lt;fct&gt;, Q6_99 &lt;fct&gt;, dBiscLMAll_1 &lt;fct&gt;, dBiscLMAll_2 &lt;fct&gt;,
## #   dBiscLMAll_3 &lt;fct&gt;, dBiscLMAll_4 &lt;fct&gt;, dBiscLMAll_5 &lt;fct&gt;,
## #   dBiscLMAll_6 &lt;fct&gt;, dTypLMAll_1 &lt;fct&gt;, dTypLMAll_2 &lt;fct&gt;,
## #   dTypLMAll_3 &lt;fct&gt;, dTypLMAll_4 &lt;fct&gt;, dNumber &lt;fct&gt;, fQ13_1 &lt;fct&gt;,
## #   fQ13_2 &lt;fct&gt;, fQ13_3 &lt;fct&gt;, fQ13_4 &lt;fct&gt;, fQ13_5 &lt;fct&gt;, fQ13_6 &lt;fct&gt;,
## #   fQ13_7 &lt;fct&gt;, fQ13_8 &lt;fct&gt;, fQ13_9 &lt;fct&gt;, fQ13_10 &lt;fct&gt;,
## #   fQ13_11 &lt;fct&gt;, fQ13_12 &lt;fct&gt;, fQ13_13 &lt;fct&gt;, fQ13_14 &lt;fct&gt;,
## #   fQ13_15 &lt;fct&gt;, fQ13_16 &lt;fct&gt;, fQ13_17 &lt;fct&gt;, fQ13_18 &lt;fct&gt;,
## #   fQ13_19 &lt;fct&gt;, fQ13_20 &lt;fct&gt;, fQ13_21 &lt;fct&gt;, fQ13_22 &lt;fct&gt;,
## #   fQ13_23 &lt;fct&gt;, fQ13_24 &lt;fct&gt;, fQ13_25 &lt;fct&gt;, fQ13_26 &lt;fct&gt;,
## #   fQ13_27 &lt;fct&gt;, fQ13_28 &lt;fct&gt;, fQ13_29 &lt;fct&gt;, fQ13_30 &lt;fct&gt;,
## #   fQ13_31 &lt;fct&gt;, fQ13_32 &lt;fct&gt;, fQ13_33 &lt;fct&gt;, fQ13_34 &lt;fct&gt;,
## #   fQ13_35 &lt;fct&gt;, fQ13_36 &lt;fct&gt;, fQ13_37 &lt;fct&gt;, fQ13_38 &lt;fct&gt;,
## #   Q25A_1 &lt;fct&gt;, Q25A_2 &lt;fct&gt;, Q25A_3 &lt;fct&gt;, Q25A_4 &lt;fct&gt;, Q25A_5 &lt;fct&gt;,
## #   Q25A_6 &lt;fct&gt;, Q25A_7 &lt;fct&gt;, Q25A_8 &lt;fct&gt;, Q25A_9 &lt;fct&gt;, Q25A_10 &lt;fct&gt;,
## #   Q25A_11 &lt;fct&gt;, Q25A_12 &lt;fct&gt;, Q25A_13 &lt;fct&gt;, Q25A_14 &lt;fct&gt;,
## #   Q25A_15 &lt;fct&gt;, Q25A_16 &lt;fct&gt;, Q25A_95 &lt;fct&gt;, …
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - SPSS]]
]]

.row[.content[

```r
labelled_survey_data %&gt;% 
count(fQ1bGender, dAge) %&gt;% 
spread(fQ1bGender, n)
```

```
## # A tibble: 3 x 3
##   dAge   Male Female
##   &lt;fct&gt; &lt;int&gt;  &lt;int&gt;
## 1 16-34   510    596
## 2 35-54   664    612
## 3 55+     362    480
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - Databases]]
]]

.row[.content[

```r
library(DBI) # for connecting to databases

con &lt;- dbConnect(
drv = RMySQL::MySQL(),
dbname = "shinydemo",
host = "shiny-demo.csa7qlmguqrf.us-east-1.rds.amazonaws.com",
username = "guest",
password = "guest"
)

dbListTables(con)
```

```
## [1] "City"            "Country"         "CountryLanguage"
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - Databases]]
]]

.row[.content[

```r
cities &lt;- tbl(con, "City")
cities
```

```
## # Source:   table&lt;City&gt; [?? x 5]
## # Database: mysql 5.5.5-10.0.17-MariaDB
## #   [guest@shiny-demo.csa7qlmguqrf.us-east-1.rds.amazonaws.com:/shinydemo]
##       ID Name           CountryCode District      Population
##    &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;       &lt;chr&gt;              &lt;dbl&gt;
##  1     1 Kabul          AFG         Kabol            1780000
##  2     2 Qandahar       AFG         Qandahar          237500
##  3     3 Herat          AFG         Herat             186800
##  4     4 Mazar-e-Sharif AFG         Balkh             127800
##  5     5 Amsterdam      NLD         Noord-Holland     731200
##  6     6 Rotterdam      NLD         Zuid-Holland      593321
##  7     7 Haag           NLD         Zuid-Holland      440900
##  8     8 Utrecht        NLD         Utrecht           234323
##  9     9 Eindhoven      NLD         Noord-Brabant     201843
## 10    10 Tilburg        NLD         Noord-Brabant     193238
## # ... with more rows
```
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Importing Data - Web APIs]]
]]

.row[.content[

```r
library(jsonlite) #JSON parser and generator

github_issues &lt;- function(user, repo){
  url &lt;- paste0("https://api.github.com/repos/", user, "/", repo, "/issues")
  return(fromJSON(url))
}
dplyr_github_issues &lt;- github_issues("hadley","dplyr")

head(dplyr_github_issues$title)
```

```
## [1] "first_n() and last_n()"                                        
## [2] "Revise filter internals to use less Rcpp protection"           
## [3] "Clearer documentation for grouping behavior with `count`"      
## [4] "Group_by for columns with dates as column name"                
## [5] "Document `.data` and `!!` in manip verbs"                      
## [6] "Document semantics of mutate() and filter() on grouped tibbles"
```
]]

---




class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Tidy &amp; Transform]]]
.column[
]

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Wait, what do you mean tidy?]
]]

.row[.content.vmiddle.center[
.color-main1[.font4[Happy families are all alike; &lt;br&gt; every unhappy family is unhappy in its own way]
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; .right[.font3[Leo Tolstoy]]]
]]


???

---

layout: true
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Wait, what do you mean tidy?]
]]

.row[.split-two[
.column[.content.vmiddle.center[
{{content}}
]]
.column[.content.vmiddle.center[
&lt;img src="imgs/Tidy1.png" width="80%"&gt;
]]
]]

???

---

class: hide-row2-col2

---

class: hide-row2-col2
count:false
&lt;img src="imgs/Untidy1.png" width="100%"&gt;

---

class: hide-row2-col2
count:false
&lt;img src="imgs/Untidy1.png" width="100%"&gt; &lt;br&gt;
&lt;img src="imgs/Untidy2.png" width="100%"&gt;

---

class: 
count:false
&lt;img src="imgs/Untidy1.png" width="100%"&gt; &lt;br&gt;
&lt;img src="imgs/Untidy2.png" width="100%"&gt;

---

class: hide-row2-col1
count: false

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Wait, what do you mean tidy?]
]]

.row[.split-two[
.column[.content.vmiddle.left[
# each variable forms a column 
&lt;br&gt;
# .white[each observation forms a row]
&lt;br&gt;
# .white[each type of observational unit forms a table]
&lt;br&gt; 
]]
.column[.content.vmiddle.center[
&lt;img src="imgs/Tidy1.png" width="80%"&gt;
]]
]]

???


---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Wait, what do you mean tidy?]
]]

.row[.split-two[
.column[.content.vmiddle.left[
# each variable forms a column 
&lt;br&gt;
# each observation forms a row 
&lt;br&gt;
# .white[each type of observational unit forms a table]
&lt;br&gt; 
]]
.column[.content.vmiddle.center[
&lt;img src="imgs/Tidy1.png" width="80%"&gt;
]]
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Wait, what do you mean tidy?]
]]

.row[.split-two[
.column[.content.vmiddle.left[
# each variable forms a column 
&lt;br&gt;
# each observation forms a row 
&lt;br&gt;
# each type of observational unit forms a table 
&lt;br&gt; 
]]
.column[.content.vmiddle.center[
&lt;img src="imgs/Tidy1.png" width="80%"&gt;
]]
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Billboard Top 100 from 2000]
]]

.row[.content.left[


```r
  head(raw_billboard)
```

```
## # A tibble: 6 x 10
##    year artist   track    time  genre date.entered   wk1   wk2   wk3   wk4
##   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1  2000 Destiny… Indepen… 03:38 Rock  2000-09-23      78    63    49    33
## 2  2000 Santana  Maria, … 04:18 Rock  2000-02-12      15     8     6     5
## 3  2000 Madonna  Music    03:45 Rock  2000-08-12      41    23    18    14
## 4  2000 Aguiler… Come On… 03:38 Rock  2000-08-05      57    47    45    29
## 5  2000 Janet    Doesn't… 04:17 Rock  2000-06-17      59    52    43    30
## 6  2000 Iglesia… Be With… 03:36 Latin 2000-04-01      63    45    34    23
```
]]


???

---

layout: true
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[So, how do we tidy our data?]
]]

.row[.split-two[
.column[.content.vmiddle.center[
&lt;img src="imgs/WideLong.png" width="100%"&gt;
]]
.column[.content.vmiddle.center[
&lt;img src="imgs/WideLong.gif" width="80%"&gt;
]]
]]


???

---

class: hide-row2-col2

---

class: 
count: false

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Okay, let's try it out!]
]]

.row[.content.left[

```r
  library(tidyverse)
  raw_billboard %&gt;% slice(1)
```

```
## # A tibble: 1 x 10
##    year artist   track    time  genre date.entered   wk1   wk2   wk3   wk4
##   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1  2000 Destiny… Indepen… 03:38 Rock  2000-09-23      78    63    49    33
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Okay, let's try it out!]
]]

.row[.content.left[

```r
  library(tidyverse)
  raw_billboard %&gt;% slice(1)
```

```
## # A tibble: 1 x 10
##    year artist   track    time  genre date.entered   wk1   wk2   wk3   wk4
##   &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
## 1  2000 Destiny… Indepen… 03:38 Rock  2000-09-23      78    63    49    33
```

```r
  raw_billboard %&gt;% slice(1) %&gt;% 
*   gather(key = "week", value = "rank", wk1, wk2, wk3, wk4)
```

```
## # A tibble: 4 x 8
##    year artist       track            time  genre date.entered week   rank
##   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;chr&gt; &lt;int&gt;
## 1  2000 Destiny's C… Independent Wom… 03:38 Rock  2000-09-23   wk1      78
## 2  2000 Destiny's C… Independent Wom… 03:38 Rock  2000-09-23   wk2      63
## 3  2000 Destiny's C… Independent Wom… 03:38 Rock  2000-09-23   wk3      49
## 4  2000 Destiny's C… Independent Wom… 03:38 Rock  2000-09-23   wk4      33
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Awesome, let's do it!]
]]

.row[.content.left[

```r
  tidy_billboard &lt;- raw_billboard %&gt;% 
                        gather(key = "week", value = "rank", wk1, wk2, wk3, wk4)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Awesome, let's do it!]
]]

.row[.content.left[

```r
  tidy_billboard &lt;- raw_billboard %&gt;% 
                        gather(key = "week", value = "rank", wk1, wk2, wk3, wk4)
  head(tidy_billboard)
```

```
## # A tibble: 6 x 8
##    year artist      track             time  genre date.entered week   rank
##   &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;             &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;chr&gt; &lt;int&gt;
## 1  2000 Destiny's … Independent Wome… 03:38 Rock  2000-09-23   wk1      78
## 2  2000 Santana     Maria, Maria      04:18 Rock  2000-02-12   wk1      15
## 3  2000 Madonna     Music             03:45 Rock  2000-08-12   wk1      41
## 4  2000 Aguilera, … Come On Over Bab… 03:38 Rock  2000-08-05   wk1      57
## 5  2000 Janet       Doesn't Really M… 04:17 Rock  2000-06-17   wk1      59
## 6  2000 Iglesias, … Be With You       03:36 Latin 2000-04-01   wk1      63
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Arrange]
]]

.row[.content.left[

```r
  tidy_billboard &lt;- tidy_billboard %&gt;% 
*                       arrange(artist, track)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Arrange]
]]

.row[.content.left[

```r
  tidy_billboard &lt;- tidy_billboard %&gt;% 
*                       arrange(artist, track)
  head(tidy_billboard)
```

```
## # A tibble: 6 x 8
##    year artist  track                 time  genre date.entered week   rank
##   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;                 &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;chr&gt; &lt;int&gt;
## 1  2000 2 Pac   Baby Don't Cry (Keep… 04:22 Rap   2000-02-26   wk1      87
## 2  2000 2 Pac   Baby Don't Cry (Keep… 04:22 Rap   2000-02-26   wk2      82
## 3  2000 2 Pac   Baby Don't Cry (Keep… 04:22 Rap   2000-02-26   wk3      72
## 4  2000 2 Pac   Baby Don't Cry (Keep… 04:22 Rap   2000-02-26   wk4      77
## 5  2000 2Ge+her The Hardest Part Of … 03:15 R&amp;B   2000-09-02   wk1      91
## 6  2000 2Ge+her The Hardest Part Of … 03:15 R&amp;B   2000-09-02   wk2      87
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Mutate]
]]

.row[.content.left[

```r
  library(lubridate)
  tidy_billboard_pop &lt;- tidy_billboard %&gt;% 
*                           mutate(month.entered = month(tidy_billboard$date.entered, label = T))
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Mutate]
]]

.row[.content.left[

```r
  library(lubridate)
  tidy_billboard_pop &lt;- tidy_billboard %&gt;% 
*                           mutate(month.entered = month(tidy_billboard$date.entered, label = T))
  head(tidy_billboard_pop)
```

```
## # A tibble: 6 x 9
##    year artist  track   time  genre date.entered week   rank month.entered
##   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;chr&gt; &lt;int&gt; &lt;ord&gt;        
## 1  2000 2 Pac   Baby D… 04:22 Rap   2000-02-26   wk1      87 Feb          
## 2  2000 2 Pac   Baby D… 04:22 Rap   2000-02-26   wk2      82 Feb          
## 3  2000 2 Pac   Baby D… 04:22 Rap   2000-02-26   wk3      72 Feb          
## 4  2000 2 Pac   Baby D… 04:22 Rap   2000-02-26   wk4      77 Feb          
## 5  2000 2Ge+her The Ha… 03:15 R&amp;B   2000-09-02   wk1      91 Sep          
## 6  2000 2Ge+her The Ha… 03:15 R&amp;B   2000-09-02   wk2      87 Sep
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Filter]
]]

.row[.content.left[

```r
  tidy_billboard_pop &lt;- tidy_billboard %&gt;% 
*                           filter(genre == "Pop" &amp; month(date.entered) &lt; 7)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Filter]
]]

.row[.content.left[

```r
  tidy_billboard_pop &lt;- tidy_billboard %&gt;% 
*                           filter(genre == "Pop" &amp; month(date.entered) &lt; 7)
  head(tidy_billboard_pop)
```

```
## # A tibble: 6 x 8
##    year artist       track            time  genre date.entered week   rank
##   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;            &lt;tim&gt; &lt;chr&gt; &lt;date&gt;       &lt;chr&gt; &lt;int&gt;
## 1  2000 Anastacia    I'm Outta Love   04:01 Pop   2000-04-01   wk1      92
## 2  2000 Anastacia    I'm Outta Love   04:01 Pop   2000-04-01   wk2      NA
## 3  2000 Anastacia    I'm Outta Love   04:01 Pop   2000-04-01   wk3      NA
## 4  2000 Anastacia    I'm Outta Love   04:01 Pop   2000-04-01   wk4      95
## 5  2000 Fabian, Lara I Will Love Aga… 03:43 Pop   2000-06-10   wk1      91
## 6  2000 Fabian, Lara I Will Love Aga… 03:43 Pop   2000-06-10   wk2      80
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Select]
]]

.row[.content.left[

```r
  tidy_billboard_pop &lt;- tidy_billboard_pop %&gt;% 
*                           select(-genre)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Select]
]]

.row[.content.left[

```r
  tidy_billboard_pop &lt;- tidy_billboard_pop %&gt;% 
*                           select(-genre)
  head(tidy_billboard_pop)
```

```
## # A tibble: 6 x 7
##    year artist       track             time   date.entered week   rank
##   &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;             &lt;time&gt; &lt;date&gt;       &lt;chr&gt; &lt;int&gt;
## 1  2000 Anastacia    I'm Outta Love    04:01  2000-04-01   wk1      92
## 2  2000 Anastacia    I'm Outta Love    04:01  2000-04-01   wk2      NA
## 3  2000 Anastacia    I'm Outta Love    04:01  2000-04-01   wk3      NA
## 4  2000 Anastacia    I'm Outta Love    04:01  2000-04-01   wk4      95
## 5  2000 Fabian, Lara I Will Love Again 03:43  2000-06-10   wk1      91
## 6  2000 Fabian, Lara I Will Love Again 03:43  2000-06-10   wk2      80
```
]]

???


---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Summarise]
]]

.row[.content.left[

```r
  tidy_billboard_pop %&gt;% 
*   summarise(mean.rank = mean(rank, na.rm = T))
```

```
## # A tibble: 1 x 1
##   mean.rank
##       &lt;dbl&gt;
## 1      71.7
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform - Group By &amp; Summarise]
]]

.row[.content.left[

```r
  tidy_billboard_pop %&gt;% 
*     group_by(artist) %&gt;%
*     summarise(mean.rank = mean(rank, na.rm = T))
```

```
## # A tibble: 5 x 2
##   artist       mean.rank
##   &lt;chr&gt;            &lt;dbl&gt;
## 1 Anastacia         93.5
## 2 Fabian, Lara      76.8
## 3 Hoku              50.2
## 4 M2M               89.8
## 5 Moore, Mandy      59
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font4[Transform]
]]

.row[.content.left[

```r
  tidy_billboard
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform]
]]

.row[.content.left[

```r
  tidy_billboard %&gt;% 
      filter(genre == "Pop" &amp; month(date.entered) &lt; 7)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform]
]]

.row[.content.left[

```r
  tidy_billboard %&gt;% 
      filter(genre == "Pop" &amp; month(date.entered) &lt; 7) %&gt;% 
      select(-genre)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform]
]]

.row[.content.left[

```r
  tidy_billboard %&gt;% 
      filter(genre == "Pop" &amp; month(date.entered) &lt; 7) %&gt;% 
      select(-genre) %&gt;% 
      group_by(artist)
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform]
]]

.row[.content.left[

```r
  tidy_billboard %&gt;% 
      filter(genre == "Pop" &amp; month(date.entered) &lt; 7) %&gt;% 
      select(-genre) %&gt;% 
      group_by(artist) %&gt;% 
      summarise(mean.rank = mean(rank, na.rm = T))
```
]]

???

---

layout: false
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
.font4[Transform]
]]

.row[.content.left[

```r
  tidy_billboard %&gt;% 
      filter(genre == "Pop" &amp; month(date.entered) &lt; 7) %&gt;% 
      select(-genre) %&gt;% 
      group_by(artist) %&gt;% 
      summarise(mean.rank = mean(rank, na.rm = T))
```

```
## # A tibble: 5 x 2
##   artist       mean.rank
##   &lt;chr&gt;            &lt;dbl&gt;
## 1 Anastacia         93.5
## 2 Fabian, Lara      76.8
## 3 Hoku              50.2
## 4 M2M               89.8
## 5 Moore, Mandy      59
```
]]

???


---




layout: false
class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Visualise]]]
.column[
]

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.white[.font5[Data Visualisation]]
]]

.row[.content.vmiddle.center[
&lt;img src="imgs/data-viz.jpg" width="70%"&gt;
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[ggplot2]]
]]

.row[
.content.vmiddle[
.center[&lt;img src="imgs/ggplot2-cheat-sheet.png" width="90%"&gt;]
RStudio Cheat Sheets - https://www.rstudio.com/resources/cheatsheets/
]
]

---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
*ggplot(gapminder)
```
.bottom_abs.width100[
This example inspired by **Gina Reynolds**, **Garrick Aden-Buie** and **Emi Tanaka**.
]
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output1-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
* aes(x = gdpPercap, y = lifeExp)
```
.bottom_abs.width100[
Note: .font-mono[aes] normally sits within .font-mono[ggplot] function!
]
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output2-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
* geom_point()
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output3-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
* scale_x_log10()
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output4-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
* labs(x = "GDP per capita")
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output5-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
  labs(x = "GDP per capita") +
* labs(y = "Life Expectancy")
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output6-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
  labs(x = "GDP per capita") +
  labs(y = "Life Expectancy") +
* labs(title="How Does Income Relate to Life Expectancy?")
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output7-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
  labs(x = "GDP per capita") +
  labs(y = "Life Expectancy") +
  labs(title="How Does Income Relate to Life Expectancy?") + 
* labs(subtitle="Data collected from http://www.gapminder.org/data/")
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output8-1.png" width="90%" /&gt;
]]]]]


---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
  labs(x = "GDP per capita") +
  labs(y = "Life Expectancy") +
  labs(title="How Does Income Relate to Life Expectancy?") + 
  labs(subtitle="Data collected from http://www.gapminder.org/data/") +
* aes(color = continent)
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output9-1.png" width="90%" /&gt;
]]]]]

---

class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
  labs(x = "GDP per capita") +
  labs(y = "Life Expectancy") +
  labs(title="How Does Income Relate to Life Expectancy?") + 
  labs(subtitle="Data collected from http://www.gapminder.org/data/") +
  aes(color = continent) +
* theme_bw(base_size=16)
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output10-1.png" width="90%" /&gt;
]]]]]

---
class: split-20
count: false

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[ggplot2]]
]]
.row[
.split-40[
.column[.content[

```r
ggplot(gapminder) +
  aes(x = gdpPercap, y = lifeExp) +
  geom_point() +
  scale_x_log10() +
  labs(x = "GDP per capita") +
  labs(y = "Life Expectancy") +
  labs(title="How Does Income Relate to Life Expectancy?") + 
  labs(subtitle="Data collected from http://www.gapminder.org/data/") +
  aes(color = continent) +
  theme_bw(base_size=16)
```
&lt;br&gt;
.center[
## Book recommendation
## .orange[Factfulness] by .orange[Hans Rosling]
]]]
.column[.content.center[
.img90[
&lt;img src="imgs/output11-1.png" width="90%" /&gt;
]]]]]

---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[.orange[Import] + Transform + Visualise]]
]]
.row[
.split-40[
.column[.content[

```r
library(sf)
library(ggplot2)
library(dplyr)
geo &lt;- st_read("data/LocalMunicipalities2011.shp", quiet = TRUE)
*head(geo)
```
]]
.column[.content.center[
.img90[

```
## Simple feature collection with 6 features and 12 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 23.22161 ymin: -33.75659 xmax: 28.0811 ymax: -31.68851
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
##   PROVINCE CATEGORY                      CAT2 CAT_B        MUNICNAME
## 1       EC        A Metropolitan Municipality   BUF     Buffalo City
## 2       EC        B        Local Municipality EC101         Camdeboo
## 3       EC        B        Local Municipality EC102 Blue Crane Route
## 4       EC        B        Local Municipality EC103           Ikwezi
## 5       EC        B        Local Municipality EC104           Makana
## 6       EC        B        Local Municipality EC105          Ndlambe
##                                MAP_TITLE DISTRICT     AREA Shape_Leng
## 1 Buffalo City Metropolitan Municipality      BUF  2535.93   4.458223
## 2            Camdeboo Local Municipality     DC10 12422.10   7.017927
## 3    Blue Crane Route Local Municipality     DC10 11068.60   6.680793
## 4              Ikwezi Local Municipality     DC10  4562.73   4.022355
## 5              Makana Local Municipality     DC10  4375.63   4.733910
## 6             Ndlambe Local Municipality     DC10  1840.63   2.772036
##   Shape_Area MapNo  MUN_CD                       geometry
## 1  0.2445463     1   (BUF) MULTIPOLYGON (((27.91716 -3...
## 2  1.1903525     4 (EC101) MULTIPOLYGON (((24.43986 -3...
## 3  1.0653265     5 (EC102) MULTIPOLYGON (((26.16564 -3...
## 4  0.4402566     6 (EC103) MULTIPOLYGON (((25.05106 -3...
## 5  0.4232914     7 (EC104) MULTIPOLYGON (((26.59392 -3...
## 6  0.1786392     8 (EC105) MULTIPOLYGON (((26.925 -33....
```
]]]]]

---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[Import + .orange[Transform] + Visualise]]
]]
.row[
.split-40[
.column[.content[

```r
library(sf)
library(ggplot2)
library(dplyr)
geo &lt;- st_read("data/LocalMunicipalities2011.shp", quiet = TRUE)
#head(geo)
largestMunicipalities &lt;- geo %&gt;%
  select(AREA, MUNICNAME) %&gt;%
  arrange(desc(AREA)) %&gt;%
  slice(1:10)
*largestMunicipalities
```
]]
.column[.content.center[
.img90[

```
## Simple feature collection with 10 features and 2 fields
## geometry type:  MULTIPOLYGON
## dimension:      XY
## bbox:           xmin: 16.45189 ymin: -34.83417 xmax: 32.94498 ymax: -22.12503
## epsg (SRID):    4326
## proj4string:    +proj=longlat +datum=WGS84 +no_defs
##       AREA       MUNICNAME                       geometry
## 1  36128.1          Hantam MULTIPOLYGON (((19.01301 -3...
## 2  32273.9  Karoo Hoogland MULTIPOLYGON (((20.59158 -3...
## 3  26358.0      Kai !Garib MULTIPOLYGON (((19.99916 -2...
## 4  23827.3 Kagisano/Molopo MULTIPOLYGON (((24.26603 -2...
## 5  22468.4            Mier MULTIPOLYGON (((20.84199 -2...
## 6  21916.6   Beaufort West MULTIPOLYGON (((23.63653 -3...
## 7  21779.8    //Khara Hais MULTIPOLYGON (((21.71008 -2...
## 8  20389.2          Ubuntu MULTIPOLYGON (((23.22298 -3...
## 9  20172.0    Joe Morolong MULTIPOLYGON (((23.9173 -27...
## 10 18332.8     Tsantsabane MULTIPOLYGON (((22.96247 -2...
```
]]]]]

---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[Import + Transform + .orange[Visualise]]]
]]
.row[
.split-40[
.column[.content[

```r
library(sf)
library(ggplot2)
library(dplyr)
geo &lt;- st_read("data/LocalMunicipalities2011.shp", quiet = TRUE)
#head(geo)
largestMunicipalities &lt;- geo %&gt;%
  select(AREA, MUNICNAME) %&gt;%
  arrange(desc(AREA)) %&gt;%
  slice(1:10)
#largestMunicipalities
ggplot() +
* geom_sf(data = geo)
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output14-1.png" width="90%" /&gt;
]]]]]

---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[Import + Transform + .orange[Visualise]]]
]]
.row[
.split-40[
.column[.content[

```r
library(sf)
library(ggplot2)
library(dplyr)
geo &lt;- st_read("data/LocalMunicipalities2011.shp", quiet = TRUE)
#head(geo)
largestMunicipalities &lt;- geo %&gt;%
  select(AREA, MUNICNAME) %&gt;%
  arrange(desc(AREA)) %&gt;%
  slice(1:10)
#largestMunicipalities
ggplot() +
  geom_sf(data = geo) +
* geom_sf(data = largestMunicipalities, aes(fill = MUNICNAME))
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output15-1.png" width="90%" /&gt;
]]]]]
---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[Import + Transform + .orange[Visualise]]]
]]
.row[
.split-40[
.column[.content[

```r
library(sf)
library(ggplot2)
library(dplyr)
geo &lt;- st_read("data/LocalMunicipalities2011.shp", quiet = TRUE)
#head(geo)
largestMunicipalities &lt;- geo %&gt;%
  select(AREA, MUNICNAME) %&gt;%
  arrange(desc(AREA)) %&gt;%
  slice(1:10)
#largestMunicipalities
ggplot() +
  geom_sf(data = geo) +
  geom_sf(data = largestMunicipalities, aes(fill = MUNICNAME)) +
* labs(title= "South Africa's largest municipalities by area")
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output16-1.png" width="90%" /&gt;
]]]]]
---

class: split-20

.row.bg-main1[.content.vmiddle.center[
 .white[.font5[Import + Transform + .orange[Visualise]]]
]]
.row[
.split-40[
.column[.content[

```r
library(sf)
library(ggplot2)
library(dplyr)
geo &lt;- st_read("data/LocalMunicipalities2011.shp", quiet = TRUE)
#head(geo)
largestMunicipalities &lt;- geo %&gt;%
  select(AREA, MUNICNAME) %&gt;%
  arrange(desc(AREA)) %&gt;%
  slice(1:10)
#largestMunicipalities
ggplot() +
  geom_sf(data = geo) +
  geom_sf(data = largestMunicipalities, aes(fill = MUNICNAME)) +
  labs(title= "South Africa's largest municipalities by area") +
* theme_bw(base_size=12)
```
]]
.column[.content.center[
.img90[
&lt;img src="imgs/output17-1.png" width="90%" /&gt;
]]]]]

---




class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Model]]]
.column[
]

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Transform + Visulaise + **Model**]
]]

.row[.content.vmiddle.center[
.color-main1[.font4[All models are wrong, but some are useful.]
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt; .right[.font3[George Box]]]
]]


???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - Life Expectancy]
]]

.row[.content.vmiddle.left[

```r
gapminder %&gt;% ggplot(aes(year, lifeExp, group = country)) + geom_line(alpha = 1/3)
```

&lt;img src="imgs/model1-1.png" style="display: block; margin: auto;" /&gt;
]]

???
# How does life expectancy (lifeExp) change over time (year) for each country (country)?

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - New Zealand]
]]

.row[.content[.split-two[
.column[.content.left[

```r
nz &lt;- filter(gapminder, country=="New Zealand")

nz %&gt;% 
  ggplot(aes(year, lifeExp)) + 
  geom_line() + 
  ggtitle("Full data = ")
```
]]
.column[.content.center[
![](imgs/modeloutput2-1.png)&lt;!-- --&gt;
]]
]]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - New Zealand]
]]

.row[.content[.split-two[
.column[.content.left[

```r
library(modelr)

nz_mod &lt;- lm(lifeExp ~ year, data = nz)

nz %&gt;% 
  add_predictions(nz_mod) %&gt;%
  ggplot(aes(year, pred)) + 
  geom_line() + 
  ggtitle("Linear trend + ")
```
]]
.column[.content.center[
![](imgs/modeloutput3-1.png)&lt;!-- --&gt;
]]
]]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - New Zealand]
]]

.row[.content[.split-two[
.column[.content.left[

```r
nz %&gt;% 
  add_residuals(nz_mod) %&gt;% 
  ggplot(aes(year, resid)) + 
  geom_hline(yintercept = 0, 
             colour = "white", 
             size = 3) + 
  geom_line() + 
  ggtitle("Remaining pattern")
```
]]
.column[.content.center[
![](imgs/modeloutput4-1.png)&lt;!-- --&gt;
]]
]]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - Set Up]
]]

.row[.content.left[

```r
by_country &lt;- gapminder %&gt;% 
                group_by(country, continent) %&gt;% 
*               nest()

head(by_country)
```

```
## # A tibble: 6 x 3
##   country     continent data             
##   &lt;fct&gt;       &lt;fct&gt;     &lt;list&gt;           
## 1 Afghanistan Asia      &lt;tibble [12 × 4]&gt;
## 2 Albania     Europe    &lt;tibble [12 × 4]&gt;
## 3 Algeria     Africa    &lt;tibble [12 × 4]&gt;
## 4 Angola      Africa    &lt;tibble [12 × 4]&gt;
## 5 Argentina   Americas  &lt;tibble [12 × 4]&gt;
## 6 Australia   Oceania   &lt;tibble [12 × 4]&gt;
```
]]

???
# Extract out the common code with a function and repeat using a map function from purrr.
# To do that, we need a new data structure: the nested data frame.


---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Data Frame Inception]
]]

.row[.content.left[

```r
by_country$data[[1]]
```

```
## # A tibble: 12 x 4
##     year lifeExp      pop gdpPercap
##    &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1  1952    28.8  8425333      779.
##  2  1957    30.3  9240934      821.
##  3  1962    32.0 10267083      853.
##  4  1967    34.0 11537966      836.
##  5  1972    36.1 13079460      740.
##  6  1977    38.4 14880372      786.
##  7  1982    39.9 12881816      978.
##  8  1987    40.8 13867957      852.
##  9  1992    41.7 16317921      649.
## 10  1997    41.8 22227415      635.
## 11  2002    42.1 25268405      727.
## 12  2007    43.8 31889923      975.
```
]]

???


---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - Life Expectancy]
]]

.row[.content.left[

```r
country_model &lt;- function(df) {
* lm(lifeExp ~ year, data = df)
}
```
]]

???
# model-fitting function
# Create a new variable in the by_country data frame.

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - Life Expectancy]
]]

.row[.content.left[

```r
country_model &lt;- function(df) {
  lm(lifeExp ~ year, data = df)
}

by_country &lt;- by_country %&gt;% 
* mutate(model = map(data, country_model))
head(by_country)
```

```
## # A tibble: 6 x 4
##   country     continent data              model   
##   &lt;fct&gt;       &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;  
## 1 Afghanistan Asia      &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 2 Albania     Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 3 Algeria     Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 4 Angola      Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 5 Argentina   Americas  &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 6 Australia   Oceania   &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
```
]]

???
# model-fitting function
# Create a new variable in the by_country data frame.

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Enjoying that Data Frame Goodness]
]]

.row[.content.left[

```r
by_country %&gt;% 
  filter(continent == "Europe") %&gt;% 
  head()
```

```
## # A tibble: 6 x 4
##   country                continent data              model   
##   &lt;fct&gt;                  &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;  
## 1 Albania                Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 2 Austria                Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 3 Belgium                Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 4 Bosnia and Herzegovina Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 5 Bulgaria               Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 6 Croatia                Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
```
]]

???
This has a big advantage: because all the related objects are stored together, you don’t need to manually keep them in sync when you filter or arrange. The semantics of the data frame takes care of that for you

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Enjoying that Data Frame Goodness]
]]

.row[.content.left[

```r
by_country %&gt;% 
  arrange(continent, country) %&gt;% 
  head()
```

```
## # A tibble: 6 x 4
##   country      continent data              model   
##   &lt;fct&gt;        &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;  
## 1 Algeria      Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 2 Angola       Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 3 Benin        Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 4 Botswana     Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 5 Burkina Faso Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
## 6 Burundi      Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt;
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[**Transform** + Visualise + Model]
]]

.row[.content.left[

```r
by_country &lt;- by_country %&gt;% 
  mutate(
*   resids = map2(data, model, add_residuals)
  )

head(by_country)
```

```
## # A tibble: 6 x 5
##   country     continent data              model    resids           
##   &lt;fct&gt;       &lt;fct&gt;     &lt;list&gt;            &lt;list&gt;   &lt;list&gt;           
## 1 Afghanistan Asia      &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt; &lt;tibble [12 × 5]&gt;
## 2 Albania     Europe    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt; &lt;tibble [12 × 5]&gt;
## 3 Algeria     Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt; &lt;tibble [12 × 5]&gt;
## 4 Angola      Africa    &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt; &lt;tibble [12 × 5]&gt;
## 5 Argentina   Americas  &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt; &lt;tibble [12 × 5]&gt;
## 6 Australia   Oceania   &lt;tibble [12 × 4]&gt; &lt;S3: lm&gt; &lt;tibble [12 × 5]&gt;
```
]]

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model Residuals]
]]

.row[.content.left[

```r
*resids &lt;- unnest(by_country, resids)

resids
```

```
## # A tibble: 1,704 x 7
##    country     continent  year lifeExp      pop gdpPercap   resid
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779. -1.11  
##  2 Afghanistan Asia       1957    30.3  9240934      821. -0.952 
##  3 Afghanistan Asia       1962    32.0 10267083      853. -0.664 
##  4 Afghanistan Asia       1967    34.0 11537966      836. -0.0172
##  5 Afghanistan Asia       1972    36.1 13079460      740.  0.674 
##  6 Afghanistan Asia       1977    38.4 14880372      786.  1.65  
##  7 Afghanistan Asia       1982    39.9 12881816      978.  1.69  
##  8 Afghanistan Asia       1987    40.8 13867957      852.  1.28  
##  9 Afghanistan Asia       1992    41.7 16317921      649.  0.754 
## 10 Afghanistan Asia       1997    41.8 22227415      635. -0.534 
## # ... with 1,694 more rows
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Transform + **Visualise** + Model]
]]

.row[.content[.split-two[
.column[.content.left[

```r
resids %&gt;% 
  ggplot(aes(year, resid)) +
    geom_line(aes(group = country), 
                      alpha = 1 / 3) + 
    geom_smooth(se = FALSE)
```
]]
.column[.content.center[
![](imgs/modeloutput12-1.png)&lt;!-- --&gt;
]]
]]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Transform + **Visualise** + Model]
]]

.row[.content[.split-two[
.column[.content.left[

```r
resids %&gt;% 
  ggplot(aes(year, resid, group = country)) +
    geom_line(alpha = 1 / 3) + 
    facet_wrap(~continent)
```
]]
.column[.content.center[
![](imgs/modeloutput13-1.png)&lt;!-- --&gt;
]]
]]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[**Transform** + Visualise + Model]
]]

.row[.content.left[

```r
by_country %&gt;% 
* mutate(glance = map(model, broom::glance)) %&gt;%
* unnest(glance) %&gt;%
  head()
```

```
## # A tibble: 6 x 16
##   country continent data  model resids r.squared adj.r.squared sigma
##   &lt;fct&gt;   &lt;fct&gt;     &lt;lis&gt; &lt;lis&gt; &lt;list&gt;     &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;
## 1 Afghan… Asia      &lt;tib… &lt;S3:… &lt;tibb…     0.948         0.942 1.22 
## 2 Albania Europe    &lt;tib… &lt;S3:… &lt;tibb…     0.911         0.902 1.98 
## 3 Algeria Africa    &lt;tib… &lt;S3:… &lt;tibb…     0.985         0.984 1.32 
## 4 Angola  Africa    &lt;tib… &lt;S3:… &lt;tibb…     0.888         0.877 1.41 
## 5 Argent… Americas  &lt;tib… &lt;S3:… &lt;tibb…     0.996         0.995 0.292
## 6 Austra… Oceania   &lt;tib… &lt;S3:… &lt;tibb…     0.980         0.978 0.621
## # ... with 8 more variables: statistic &lt;dbl&gt;, p.value &lt;dbl&gt;, df &lt;int&gt;,
## #   logLik &lt;dbl&gt;, AIC &lt;dbl&gt;, BIC &lt;dbl&gt;, deviance &lt;dbl&gt;, df.residual &lt;int&gt;
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[**Transform** + Visualise + Model]
]]

.row[.content.left[

```r
glance &lt;- by_country %&gt;% 
* mutate(glance = map(model, broom::glance)) %&gt;%
* unnest(glance, .drop = TRUE)
head(glance)
```

```
## # A tibble: 6 x 13
##   country continent r.squared adj.r.squared sigma statistic  p.value    df
##   &lt;fct&gt;   &lt;fct&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;int&gt;
## 1 Afghan… Asia          0.948         0.942 1.22      181.  9.84e- 8     2
## 2 Albania Europe        0.911         0.902 1.98      102.  1.46e- 6     2
## 3 Algeria Africa        0.985         0.984 1.32      662.  1.81e-10     2
## 4 Angola  Africa        0.888         0.877 1.41       79.1 4.59e- 6     2
## 5 Argent… Americas      0.996         0.995 0.292    2246.  4.22e-13     2
## 6 Austra… Oceania       0.980         0.978 0.621     481.  8.67e-10     2
## # ... with 5 more variables: logLik &lt;dbl&gt;, AIC &lt;dbl&gt;, BIC &lt;dbl&gt;,
## #   deviance &lt;dbl&gt;, df.residual &lt;int&gt;
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Model - Life Expectancy]
]]

.row[.content.left[

```r
glance %&gt;% 
* arrange(r.squared)
```

```
## # A tibble: 142 x 13
##    country continent r.squared adj.r.squared sigma statistic p.value    df
##    &lt;fct&gt;   &lt;fct&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;
##  1 Rwanda  Africa       0.0172      -0.0811   6.56     0.175  0.685      2
##  2 Botswa… Africa       0.0340      -0.0626   6.11     0.352  0.566      2
##  3 Zimbab… Africa       0.0562      -0.0381   7.21     0.596  0.458      2
##  4 Zambia  Africa       0.0598      -0.0342   4.53     0.636  0.444      2
##  5 Swazil… Africa       0.0682      -0.0250   6.64     0.732  0.412      2
##  6 Lesotho Africa       0.0849      -0.00666  5.93     0.927  0.358      2
##  7 Cote d… Africa       0.283        0.212    3.93     3.95   0.0748     2
##  8 South … Africa       0.312        0.244    4.74     4.54   0.0588     2
##  9 Uganda  Africa       0.342        0.276    3.19     5.20   0.0457     2
## 10 Congo,… Africa       0.348        0.283    2.43     5.34   0.0434     2
## # ... with 132 more rows, and 5 more variables: logLik &lt;dbl&gt;, AIC &lt;dbl&gt;,
## #   BIC &lt;dbl&gt;, deviance &lt;dbl&gt;, df.residual &lt;int&gt;
```
]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Transform + **Visualise** + Model]
]]

.row[.content[.split-two[
.column[.content.left[

```r
glance %&gt;% 
  ggplot(aes(continent, r.squared)) + 
    geom_jitter(width = 0.5)
```
]]
.column[.content.center[
![](imgs/modeloutput17-1.png)&lt;!-- --&gt;
]]
]]]

???

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.font5[Transform + **Visualise** + Model]
]]

.row[.content[.split-two[
.column[.content.left[

```r
bad_fit &lt;- filter(glance, r.squared &lt; 0.25)

gapminder %&gt;% 
  semi_join(bad_fit, by = "country") %&gt;% 
  ggplot(aes(year, lifeExp, colour = country)) +
    geom_line()
```
]]
.column[.content.center[
![](imgs/modeloutput18-1.png)&lt;!-- --&gt;
]]
]]]

???

---




layout: false

class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Communicate]]]
.column[
]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Communication]]
]]

.row[.content[
.color-main1[.font2[
* Reproducable documents, presentations, and reports
* Interactive web-apps and dashboards
.content.center[
&lt;img src="imgs/rmarkdown.png" width="15%"&gt;
&lt;img src="imgs/shiny.png" width="15%"&gt;
]
]]
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Rmarkdown]]
]]

.row[.content[
.color-main1[.font2[
* Output Formats
.content.center[
&lt;img src="imgs/rmarkdownoutputformats.png" width="20%"&gt;
&lt;br&gt;
]
* A reproducible workflow
]]
]]

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.white[.font5[Example of rmarkdown report]]
]]

.row[.content.center[
&lt;img src="imgs/rmarkdown-report.png" width="70%"&gt;
]]

---

layout: false
class: split-20
.row.bg-main1[.content.vmiddle.center[
.white[.font5[Shiny]]
]]

.row[.content[
.color-main1[.font2[
* Shiny combines the computational power of R with the interactivity of the modern web.
.content.center[
&lt;img src="imgs/superzip-example.png" width="40%"&gt;
&lt;img src="imgs/retirement-simulation.png" width="40%"&gt;
]
]]
]]

---

layout: false
class: split-20

.row.bg-main1[.content.vmiddle.center[
.white[.font5[Shiny Dashboard]]
]]

.row[.content.center[
&lt;img src="imgs/ggvis_movies.gif" width="50%"&gt;
]]

---




class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Questions ?]]]
.column[
]

---

layout: true
class: split-20

.row[.content.vmiddle.left[
.font4[# Resources <span>&lt;i class="fas  fa-graduation-cap faa-tada animated "&gt;&lt;/i&gt;</span>]
]]

.row[.content[.split-three[
  .column[.content.center[
  ### <span>&lt;i class="fas  fa-podcast faa-float animated "&gt;&lt;/i&gt;</span> [**Not So Standard Deviations**](http://nssdeviations.com/)&lt;br&gt;
#### Hilary Parker <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span>&amp;nbsp; [@hspter](http://twitter.com/hspter)&lt;br&gt;
#### Roger Peng <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span>&amp;nbsp; [@rdpeng](http://twitter.com/rdpeng)&lt;br&gt;
&lt;br&gt;
### <span>&lt;i class="fas  fa-podcast faa-float animated "&gt;&lt;/i&gt;</span> [**Credibly Curious**](https://soundcloud.com/crediblycurious)&lt;br&gt;
#### Saskia Freytag <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span>&amp;nbsp; [@trashystats](http://twitter.com/trashystats)&lt;br&gt;
#### Nicholas Tierney <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span> [@nj_tierney](http://twitter.com/nj_tierney)&lt;br&gt;
&lt;br&gt;
### <span>&lt;i class="fas  fa-podcast faa-float animated "&gt;&lt;/i&gt;</span> [**DataFramed**](https://www.datacamp.com/community/podcast)&lt;br&gt;
#### Hugo Bowne-Anderson <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span>&amp;nbsp; [@hugobowne](http://twitter.com/hugobowne)&lt;br&gt;
  ]]
  
  .column[.content.vtop.center[
### <span>&lt;i class="fas  fa-book faa-float animated "&gt;&lt;/i&gt;</span> [**R for Data Science**](http://r4ds.had.co.nz/)&lt;br&gt;
#### Garrett Grolemund <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span>&amp;nbsp; [@StatGarrett](http://twitter.com/StatGarrett)&lt;br&gt;
#### Hadley Wickham <span>&lt;i class="fab  fa-twitter faa-pulse animated-hover "&gt;&lt;/i&gt;</span>&amp;nbsp; [@hadleywickham](hhttp://twitter.com/hadleywickham)
&lt;br&gt;
### <span>&lt;i class="fas  fa-globe faa-float animated "&gt;&lt;/i&gt;</span> [**RStudio Community**](https://community.rstudio.com/)&lt;br&gt;
A community for all things R and RStudio.
&lt;br&gt;
### <span>&lt;i class="fas  fa-globe faa-float animated "&gt;&lt;/i&gt;</span> [**Stack Overflow**](https://stackoverflow.com/questions/tagged/r)&lt;br&gt;
Community for developers to learn, share their knowledge, and build their careers.
&lt;br&gt;

### <span>&lt;i class="fas  fa-globe faa-float animated "&gt;&lt;/i&gt;</span> [**R-bloggers**](https://www.r-bloggers.com/)&lt;br&gt;
The site helps R bloggers and users to connect and follow the “R blogosphere”
  ]]
  
  .column[.content.vtop.center[
  ### <span>&lt;i class="fas  fa-comments faa-float animated "&gt;&lt;/i&gt;</span> [**RUsers**](https://stackoverflow.com/questions/tagged/r)&lt;br&gt;

<span>&lt;i class="fab  fa-meetup faa-wrench animated-hover "&gt;&lt;/i&gt;</span> [Johannesburg](https://www.meetup.com/Joburg-R-Users-Group/)&lt;br&gt;
<span>&lt;i class="fab  fa-meetup faa-wrench animated-hover "&gt;&lt;/i&gt;</span> [Cape Town](https://caperuser.wordpress.com/)&lt;br&gt;
&lt;br&gt;

### <span>&lt;i class="fas  fa-comments faa-float animated "&gt;&lt;/i&gt;</span> [**R-Ladies**](https://www.r-bloggers.com/)&lt;br&gt;

<span>&lt;i class="fab  fa-slack faa-wrench animated-hover "&gt;&lt;/i&gt;</span> [R-Ladies Community Slack Workspace](https://rladies-community-slack.herokuapp.com/)&lt;br&gt;
<span>&lt;i class="fab  fa-meetup faa-wrench animated-hover "&gt;&lt;/i&gt;</span> [Johannesburg](https://www.meetup.com/rladies-johannesburg/)&lt;br&gt;
<span>&lt;i class="fab  fa-meetup faa-wrench animated-hover "&gt;&lt;/i&gt;</span> [Cape Town](https://www.meetup.com/R-Ladies-Cape-Town/)&lt;br&gt;
  ]]
  ]]]

---

class: hide-row2-col1 hide-row2-col2 hide-row2-col3
count: false

---

class: hide-row2-col2 hide-row2-col3
count: false

---

class: fade-row2-col1 hide-row2-col3
count: false

---

class: fade-row2-col1 fade-row2-col2
count: false

---
layout: false
# References

* https://github.com/paulc91
* http://jkunst.com/intro-r-workshop

---

layout: false
class: split-70 hide-slide-number
background-image: url("imgs/HEAD-Top-data-visualization-tools-for-small-business.png")
background-size: cover

.column.slide-in-left[
.sliderbox.vmiddle.shade_main.center[
.font5[Thank you! - End of File]]]
.column[
]
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
